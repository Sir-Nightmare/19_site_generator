<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Комментарии</title>
        <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
        <style>
            .container{
                font-family: sans-serif;
            }
        </style>
    </head>
    <body>
	<div class="container">
		<h2 class="text-center">Комментарии</h2>
		<hr>
		    <div>		
			    <span class="label label-primary">python_basics</span>
		    </div>			
		</div>
	    <div style="height: 20px;">
		</div>
		<div class="container">
			&lt;h2&gt;Какие бывают&lt;/h2&gt;
&lt;h3&gt;Обычные комментарии&lt;/h3&gt;
&lt;p&gt;Комментарии – способ прокомментировать код на ходу, на той же строке. &lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;price&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Column&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BigInteger&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# рубли * 100&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Докстринги&lt;/h3&gt;
&lt;p&gt;Докстринг – строковая переменная, которая идёт сразу за объявлением функции, класса, метода или модуля.
Она нужна для документирования всей функции: описания входящих параметров, результата, логики, крайних случаев.
Заключается в тройные двойные кавычки. Вот так:&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;tensorsolve&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;axes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
    &lt;span class=&#34;sd&#34;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&#34;sd&#34;&gt;    Solve the tensor equation ``a x = b`` for x.&lt;/span&gt;
&lt;span class=&#34;sd&#34;&gt;    It is assumed that all indices of `x` are summed over in the product,&lt;/span&gt;
&lt;span class=&#34;sd&#34;&gt;    together with the rightmost indices of `a`, as is done in, for example,&lt;/span&gt;
&lt;span class=&#34;sd&#34;&gt;    ``tensordot(a, x, axes=len(b.shape))``.&lt;/span&gt;
&lt;span class=&#34;sd&#34;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;В серьёзных проектах из них часто генерируется документация, поэтому они могут быть большими, по несколько экранов.
Это касается проектов, у которых есть документация для разработчиков: Django, numpy, sqlalchemy.&lt;/p&gt;
&lt;p&gt;Если проект не подразумевает, что им будут пользоваться другие разработчики, такого быть не должно.
Длинных докстрингов не должно быть в скрипте ресайза изображений, сайте блога или алгоритме обучения нейронной сети.&lt;/p&gt;
&lt;p&gt;Прямо в докстрингах можно писать короткие тесты, их называют доктесты. Ни разу не видел, чтобы кто-то
это использовал в боевом проекте.&lt;/p&gt;
&lt;h2&gt;Как не использовать&lt;/h2&gt;
&lt;h3&gt;Дублировать информацию из кода&lt;/h3&gt;
&lt;p&gt;Самая частая ошибка, связанная с комментариями: дублирование информации.
В таком случае комментарий не несёт дополнительной информации, а просто переводит соседний код
с Питона на русский/английский. Пример:&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# загружаем данные из файла data.json&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;users.json&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;handler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;handler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Вот как можно исправить:&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;users.json&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;handler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;handler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;А так – ещё лучше:&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;load_all_users_from_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Не сопровождать комментарии&lt;/h3&gt;
&lt;p&gt;Другая частая ошибка: не менять комментарии при изменении кода. В примере выше мы загружали данные из файла. 
Через месяц взялись за голову и поселили данные в базе данных. Код стал таким:&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# загружаем данные из файла data.json&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;db_session&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;query&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Данные из файла? WAT?&lt;/p&gt;
&lt;h3&gt;Думать, что все поймут&lt;/h3&gt;
&lt;p&gt;Когда программист пишет кусок кода, он глубоко в него погружён: держит в голове все детали, связи и особые случаи.
В таком состоянии всё поведение кажется понятным, поэтому разработчик может оставить комментарий самому себе.
Проблема в том, что когда он переключится на другую задачу и забудет про детали, комментарий может взорвать мозг:&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;inv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strain_tensor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rigidity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;T&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# правый случай&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Правый, правда? Ну, теперь всё понятно.&lt;/p&gt;
&lt;h3&gt;Шутить&lt;/h3&gt;
&lt;p&gt;Шутки к неидеальному коду смотрятся неуместно. Представь, как чувствует себя разработчик, копающийся в чужом
коде три часа и находящий новый модуль с заглавным комментарием &lt;code&gt;оставь надежду, всяк сюда входящий&lt;/code&gt;.
Не будь автором этого комментария. Лучше наведи порядок в своём коде.&lt;/p&gt;
&lt;h2&gt;Как использовать&lt;/h2&gt;
&lt;p&gt;Вот хорошие причины использовать комментарии:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;объяснить неочевидное поведение&lt;/em&gt;: бывает, что нужно объяснить какой-нибудь подводный камень куска кода
  или объяснить поведение в особом случае; использовать только если ту же информацию в коде поселить нельзя или
  очень сложно;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;оставить напоминание себе или коллеге&lt;/em&gt;: речь про комментарии вроде &lt;code&gt;TODO: кешировать ответ ручки&lt;/code&gt;
  или &lt;code&gt;FIXME: учитывать часовой пояс&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Прежде чем написать комментарий, попробуй поселить его в коде, указав параметр или дав подходящее название переменной.&lt;/p&gt;
&lt;h2&gt;Что изучать&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=-SRUctRR_4s&#34;&gt;Доклад Григория Петрова про комментирование исходников&lt;/a&gt;. Обязателен к просмотру.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.python.org/dev/peps/pep-0257/&#34;&gt;PEP 257&lt;/a&gt;. ПЕП про докстринги.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.python.org/3.5/library/doctest.html&#34;&gt;doctest&lt;/a&gt;. Документация к модулю про доктесты.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://stackoverflow.com/questions/184618/&#34;&gt;What is the best comment in source code you have ever encountered?&lt;/a&gt;. Шутить в коде не стоит, а вот посмеяться с чужих шуток можно. Это ж не нам поддерживать.&lt;/li&gt;
&lt;/ul&gt;
			<a class="btn btn-default" href="../index.html" role="button">К оглавлению</a>
		</div>
		
		<div style="height: 60px;">
		</div>
		<nav class="navbar navbar-default navbar-fixed-bottom">
			<div class="container">
				<div class="col-sm-12 text-center navbar-text">
					 Made by <a href="https://github.com/Sir-Nightmare">Sir Nightmare</a>
					— <a href="https://devman.org/">Devman</a>
				</div>
			</div>
		</nav>
    </body>
</html>